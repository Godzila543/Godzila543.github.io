import{Q as H}from"./QSpace.884843d5.js";import{c as R,u as J,a as X,b as i,w,i as j,e as C,r as y,d as A,o as Y,h as G,f as g,l as W,g as N,p as K,j as Z,k as ee,m as L,n as te,q as ae,s as oe,t as ne,v as I,x as le,y as m,z as re,A as u,B as ie,C as se,F as ue,D as V,E as ce,Q as M,G as q}from"./index.25a37ec0.js";import{u as de,a as fe,b as ve,Q as he}from"./QTabs.6fff3398.js";import{Q as E,a as me}from"./use-dark.2d9c0df9.js";import{g as F,Q as ge,a as be,b as U}from"./QScrollObserver.6c794a7c.js";import{Q as ye}from"./QDialog.241c34b9.js";import{b as D}from"./palette.fef6045e.js";import"./uid.42677368.js";import"./focus-manager.0e99a82b.js";import"./use-model-toggle.fbe37262.js";var pe=R({name:"QRouteTab",props:{...J,...de},emits:fe,setup(t,{slots:s,emit:c}){const n=X({useDisableForRouterLinkProps:!1}),{renderTab:a,$tabs:l}=ve(t,s,c,{exact:i(()=>t.exact),...n});return w(()=>`${t.name} | ${t.exact} | ${(n.resolvedLink.value||{}).href}`,()=>{l.verifyRouteModel()}),()=>a(n.linkTag.value,n.linkAttrs.value)}}),we=R({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(t,{slots:s,emit:c}){const{proxy:{$q:n}}=N(),a=j(W,C);if(a===C)return console.error("QFooter needs to be child of QLayout"),C;const l=y(parseInt(t.heightHint,10)),d=y(!0),f=y(A.value===!0||a.isContainer.value===!0?0:window.innerHeight),b=i(()=>t.reveal===!0||a.view.value.indexOf("F")>-1||n.platform.is.ios&&a.isContainer.value===!0),v=i(()=>a.isContainer.value===!0?a.containerHeight.value:f.value),Q=i(()=>{if(t.modelValue!==!0)return 0;if(b.value===!0)return d.value===!0?l.value:0;const e=a.scroll.value.position+v.value+l.value-a.height.value;return e>0?e:0}),$=i(()=>t.modelValue!==!0||b.value===!0&&d.value!==!0),k=i(()=>t.modelValue===!0&&$.value===!0&&t.reveal===!0),T=i(()=>"q-footer q-layout__section--marginal "+(b.value===!0?"fixed":"absolute")+"-bottom"+(t.bordered===!0?" q-footer--bordered":"")+($.value===!0?" q-footer--hidden":"")+(t.modelValue!==!0?" q-layout--prevent-focus"+(b.value!==!0?" hidden":""):"")),P=i(()=>{const e=a.rows.value.bottom,r={};return e[0]==="l"&&a.left.space===!0&&(r[n.lang.rtl===!0?"right":"left"]=`${a.left.size}px`),e[2]==="r"&&a.right.space===!0&&(r[n.lang.rtl===!0?"left":"right"]=`${a.right.size}px`),r});function h(e,r){a.update("footer",e,r)}function p(e,r){e.value!==r&&(e.value=r)}function S({height:e}){p(l,e),h("size",e)}function z(){if(t.reveal!==!0)return;const{direction:e,position:r,inflectionPoint:x}=a.scroll.value;p(d,e==="up"||r-x<100||a.height.value-v.value-r-l.value<300)}function _(e){k.value===!0&&p(d,!0),c("focusin",e)}w(()=>t.modelValue,e=>{h("space",e),p(d,!0),a.animate()}),w(Q,e=>{h("offset",e)}),w(()=>t.reveal,e=>{e===!1&&p(d,t.modelValue)}),w(d,e=>{a.animate(),c("reveal",e)}),w([l,a.scroll,a.height],z),w(()=>n.screen.height,e=>{a.isContainer.value!==!0&&p(f,e)});const o={};return a.instances.footer=o,t.modelValue===!0&&h("size",l.value),h("space",t.modelValue),h("offset",Q.value),Y(()=>{a.instances.footer===o&&(a.instances.footer=void 0,h("size",0),h("offset",0),h("space",!1))}),()=>{const e=G(s.default,[g(E,{debounce:0,onResize:S})]);return t.elevated===!0&&e.push(g("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),g("footer",{class:T.value,style:P.value,onFocusin:_},e)}}}),xe=R({name:"QPageContainer",setup(t,{slots:s}){const{proxy:{$q:c}}=N(),n=j(W,C);if(n===C)return console.error("QPageContainer needs to be child of QLayout"),C;K(ee,!0);const a=i(()=>{const l={};return n.header.space===!0&&(l.paddingTop=`${n.header.size}px`),n.right.space===!0&&(l[`padding${c.lang.rtl===!0?"Left":"Right"}`]=`${n.right.size}px`),n.footer.space===!0&&(l.paddingBottom=`${n.footer.size}px`),n.left.space===!0&&(l[`padding${c.lang.rtl===!0?"Right":"Left"}`]=`${n.left.size}px`),l});return()=>g("div",{class:"q-page-container",style:a.value},Z(s.default))}}),ze=R({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:t=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(t.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(t,{slots:s,emit:c}){const{proxy:{$q:n}}=N(),a=y(null),l=y(n.screen.height),d=y(t.container===!0?0:n.screen.width),f=y({position:0,direction:"down",inflectionPoint:0}),b=y(0),v=y(A.value===!0?0:F()),Q=i(()=>"q-layout q-layout--"+(t.container===!0?"containerized":"standard")),$=i(()=>t.container===!1?{minHeight:n.screen.height+"px"}:null),k=i(()=>v.value!==0?{[n.lang.rtl===!0?"left":"right"]:`${v.value}px`}:null),T=i(()=>v.value!==0?{[n.lang.rtl===!0?"right":"left"]:0,[n.lang.rtl===!0?"left":"right"]:`-${v.value}px`,width:`calc(100% + ${v.value}px)`}:null);function P(o){if(t.container===!0||document.qScrollPrevented!==!0){const e={position:o.position.top,direction:o.direction,directionChanged:o.directionChanged,inflectionPoint:o.inflectionPoint.top,delta:o.delta.top};f.value=e,t.onScroll!==void 0&&c("scroll",e)}}function h(o){const{height:e,width:r}=o;let x=!1;l.value!==e&&(x=!0,l.value=e,t.onScrollHeight!==void 0&&c("scrollHeight",e),S()),d.value!==r&&(x=!0,d.value=r),x===!0&&t.onResize!==void 0&&c("resize",o)}function p({height:o}){b.value!==o&&(b.value=o,S())}function S(){if(t.container===!0){const o=l.value>b.value?F():0;v.value!==o&&(v.value=o)}}let z=null;const _={instances:{},view:i(()=>t.view),isContainer:i(()=>t.container),rootRef:a,height:l,containerHeight:b,scrollbarWidth:v,totalWidth:i(()=>d.value+v.value),rows:i(()=>{const o=t.view.toLowerCase().split(" ");return{top:o[0].split(""),middle:o[1].split(""),bottom:o[2].split("")}}),header:L({size:0,offset:0,space:!1}),right:L({size:300,offset:0,space:!1}),footer:L({size:0,offset:0,space:!1}),left:L({size:300,offset:0,space:!1}),scroll:f,animate(){z!==null?clearTimeout(z):document.body.classList.add("q-body--layout-animate"),z=setTimeout(()=>{z=null,document.body.classList.remove("q-body--layout-animate")},155)},update(o,e,r){_[o][e]=r}};if(K(W,_),F()>0){let r=function(){o=null,e.classList.remove("hide-scrollbar")},x=function(){if(o===null){if(e.scrollHeight>n.screen.height)return;e.classList.add("hide-scrollbar")}else clearTimeout(o);o=setTimeout(r,300)},B=function(O){o!==null&&O==="remove"&&(clearTimeout(o),r()),window[`${O}EventListener`]("resize",x)},o=null;const e=document.body;w(()=>t.container!==!0?"add":"remove",B),t.container!==!0&&B("add"),te(()=>{B("remove")})}return()=>{const o=G(s.default,[g(ge,{onScroll:P}),g(E,{onResize:h})]),e=g("div",{class:Q.value,style:$.value,ref:t.container===!0?void 0:a,tabindex:-1},o);return t.container===!0?g("div",{class:"q-layout-container overflow-hidden",ref:a},[g(E,{onResize:p}),g("div",{class:"absolute-full",style:k.value},[g("div",{class:"scroll",style:T.value},[e])])]):e}}});const Ce={class:"row"},Be=ae({__name:"MainLayout",setup(t){const s=oe(),c=[{name:"palettes",icon:"palette"},{name:"generators",icon:"api"},{name:"settings",icon:"settings"}],n=i(()=>s.settings.theme=="Dark"?D(["#011827","#412837"]):s.settings.theme=="Light"||!s.activePalette?D(["#aaccff","#ffaacc"]):D(s.activePaletteColors));return(a,l)=>{const d=ne("router-view");return I(),le(ze,{view:"hHh lpr fFf",style:re(n.value)},{default:m(()=>[u(we,{class:"opaque-glass",elevated:""},{default:m(()=>[u(me,null,{default:m(()=>[u(H),u(he,{shrink:"",class:"text-black"},{default:m(()=>[(I(),ie(ue,null,se(c,f=>u(pe,{key:f.name,to:"/"+f.name,icon:f.icon},null,8,["to","icon"])),64))]),_:1}),u(H)]),_:1})]),_:1}),u(xe,null,{default:m(()=>[u(d)]),_:1}),u(ye,{modelValue:q(s).bt.dialog,"onUpdate:modelValue":l[2]||(l[2]=f=>q(s).bt.dialog=f)},{default:m(()=>[u(be,{class:"opaque-glass"},{default:m(()=>[u(U,{class:"text-h6"},{default:m(()=>[V("Connect to a Bluetooth Device")]),_:1}),u(U,null,{default:m(()=>[ce("div",Ce,[u(M,{onClick:l[0]||(l[0]=f=>q(s).bt.dialog=!1),dense:"",flat:"",class:"text-negative"},{default:m(()=>[V("Ignore")]),_:1}),u(H),u(M,{class:"opaque-glass text-black",onClick:l[1]||(l[1]=f=>q(s).bt.initBluetooth())},{default:m(()=>[V("Connect Device")]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["style"])}}});export{Be as default};

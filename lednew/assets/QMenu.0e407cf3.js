import{i as ht,w as E,H as we,o as X,av as gt,g as W,r as M,b as i,am as bt,$ as pt,as as xt,K as $e,U as Ze,P as Ct,S as yt,d as kt,f as m,ai as U,N as Ee,aw as St,j as oe,a5 as Ye,a3 as Je,ak as Ge,ax as qt,ay as xe,ap as wt,c as et,L as $t,ag as Ve,al as Mt,V as ke,a6 as _t}from"./index.eea681f7.js";import{u as Me,f as _e,g as Bt,j as Tt}from"./palette.c9830f63.js";import{u as Rt,a as At,b as Ft,c as Lt}from"./use-model-toggle.a6565f8d.js";import{b as tt,c as Et,p as Pe,d as Vt,u as Pt,a as zt,e as Ht,f as Ot,g as It,h as Nt,i as ze,j as Wt,k as Dt}from"./QDialog.de58f7ec.js";import{b as G,T as jt,c as Kt}from"./QPage.7de60435.js";function Ut({validate:e,resetValidation:l,requiresQForm:n}){const o=ht(gt,!1);if(o!==!1){const{props:t,proxy:d}=W();Object.assign(d,{validate:e,resetValidation:l}),E(()=>t.disable,r=>{r===!0?(typeof l=="function"&&l(),o.unbindComponent(d)):o.bindComponent(d)}),we(()=>{t.disable!==!0&&o.bindComponent(d)}),X(()=>{t.disable!==!0&&o.unbindComponent(d)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}const He=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,Oe=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,Ie=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,ie=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,ue=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,Ce={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>He.test(e),hexaColor:e=>Oe.test(e),hexOrHexaColor:e=>Ie.test(e),rgbColor:e=>ie.test(e),rgbaColor:e=>ue.test(e),rgbOrRgbaColor:e=>ie.test(e)||ue.test(e),hexOrRgbColor:e=>He.test(e)||ie.test(e),hexaOrRgbaColor:e=>Oe.test(e)||ue.test(e),anyColor:e=>Ie.test(e)||ie.test(e)||ue.test(e)},Qt=[!0,!1,"ondemand"],Xt={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:e=>Qt.includes(e)}};function Zt(e,l){const{props:n,proxy:o}=W(),t=M(!1),d=M(null),r=M(null);Ut({validate:p,resetValidation:s});let c=0,h;const g=i(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length!==0),f=i(()=>n.disable!==!0&&g.value===!0),S=i(()=>n.error===!0||t.value===!0),q=i(()=>typeof n.errorMessage=="string"&&n.errorMessage.length!==0?n.errorMessage:d.value);E(()=>n.modelValue,()=>{V()}),E(()=>n.reactiveRules,$=>{$===!0?h===void 0&&(h=E(()=>n.rules,()=>{V(!0)})):h!==void 0&&(h(),h=void 0)},{immediate:!0}),E(e,$=>{$===!0?r.value===null&&(r.value=!1):r.value===!1&&(r.value=!0,f.value===!0&&n.lazyRules!=="ondemand"&&l.value===!1&&R())});function s(){c++,l.value=!1,r.value=null,t.value=!1,d.value=null,R.cancel()}function p($=n.modelValue){if(f.value!==!0)return!0;const A=++c,k=l.value!==!0?()=>{r.value=!0}:()=>{},_=(B,C)=>{B===!0&&k(),t.value=B,d.value=C||null,l.value=!1},F=[];for(let B=0;B<n.rules.length;B++){const C=n.rules[B];let T;if(typeof C=="function"?T=C($,Ce):typeof C=="string"&&Ce[C]!==void 0&&(T=Ce[C]($)),T===!1||typeof T=="string")return _(!0,T),!1;T!==!0&&T!==void 0&&F.push(T)}return F.length===0?(_(!1),!0):(l.value=!0,Promise.all(F).then(B=>{if(B===void 0||Array.isArray(B)===!1||B.length===0)return A===c&&_(!1),!0;const C=B.find(T=>T===!1||typeof T=="string");return A===c&&_(C!==void 0,C),C===void 0},B=>(A===c&&(console.error(B),_(!0)),!1)))}function V($){f.value===!0&&n.lazyRules!=="ondemand"&&(r.value===!0||n.lazyRules!==!0&&$!==!0)&&R()}const R=bt(p,0);return X(()=>{h!==void 0&&h(),R.cancel()}),Object.assign(o,{resetValidation:s,validate:p}),pt(o,"hasError",()=>S.value),{isDirtyModel:r,hasRules:g,hasError:S,errorMessage:q,validate:p,resetValidation:s}}const Ne=/^on[A-Z]/;function Yt(e,l){const n={listeners:M({}),attributes:M({})};function o(){const t={},d={};for(const r in e)r!=="class"&&r!=="style"&&Ne.test(r)===!1&&(t[r]=e[r]);for(const r in l.props)Ne.test(r)===!0&&(d[r]=l.props[r]);n.attributes.value=t,n.listeners.value=d}return xt(o),o(),n}function Se(e){return e===void 0?`f_${Rt()}`:e}function Jt(e){return e!=null&&(""+e).length!==0}const $l={...Me,...Xt,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},Ml=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function _l(){const{props:e,attrs:l,proxy:n,vnode:o}=W();return{isDark:_e(e,n.$q),editable:i(()=>e.disable!==!0&&e.readonly!==!0),innerLoading:M(!1),focused:M(!1),hasPopupOpen:!1,splitAttrs:Yt(l,o),targetUid:M(Se(e.for)),rootRef:M(null),targetRef:M(null),controlRef:M(null)}}function Bl(e){const{props:l,emit:n,slots:o,attrs:t,proxy:d}=W(),{$q:r}=d;let c=null;e.hasValue===void 0&&(e.hasValue=i(()=>Jt(l.modelValue))),e.emitValue===void 0&&(e.emitValue=u=>{n("update:modelValue",u)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:P,onFocusout:H}),Object.assign(e,{clearValue:z,onControlFocusin:P,onControlFocusout:H,focus:C}),e.computedCounter===void 0&&(e.computedCounter=i(()=>{if(l.counter!==!1){const u=typeof l.modelValue=="string"||typeof l.modelValue=="number"?(""+l.modelValue).length:Array.isArray(l.modelValue)===!0?l.modelValue.length:0,x=l.maxlength!==void 0?l.maxlength:l.maxValues;return u+(x!==void 0?" / "+x:"")}}));const{isDirtyModel:h,hasRules:g,hasError:f,errorMessage:S,resetValidation:q}=Zt(e.focused,e.innerLoading),s=e.floatingLabel!==void 0?i(()=>l.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):i(()=>l.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),p=i(()=>l.bottomSlots===!0||l.hint!==void 0||g.value===!0||l.counter===!0||l.error!==null),V=i(()=>l.filled===!0?"filled":l.outlined===!0?"outlined":l.borderless===!0?"borderless":l.standout?"standout":"standard"),R=i(()=>`q-field row no-wrap items-start q-field--${V.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(l.rounded===!0?" q-field--rounded":"")+(l.square===!0?" q-field--square":"")+(s.value===!0?" q-field--float":"")+(A.value===!0?" q-field--labeled":"")+(l.dense===!0?" q-field--dense":"")+(l.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(f.value===!0?" q-field--error":"")+(f.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(l.hideBottomSpace!==!0&&p.value===!0?" q-field--with-bottom":"")+(l.disable===!0?" q-field--disabled":l.readonly===!0?" q-field--readonly":"")),$=i(()=>"q-field__control relative-position row no-wrap"+(l.bgColor!==void 0?` bg-${l.bgColor}`:"")+(f.value===!0?" text-negative":typeof l.standout=="string"&&l.standout.length!==0&&e.focused.value===!0?` ${l.standout}`:l.color!==void 0?` text-${l.color}`:"")),A=i(()=>l.labelSlot===!0||l.label!==void 0),k=i(()=>"q-field__label no-pointer-events absolute ellipsis"+(l.labelColor!==void 0&&f.value!==!0?` text-${l.labelColor}`:"")),_=i(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:s.value,modelValue:l.modelValue,emitValue:e.emitValue})),F=i(()=>{const u={for:e.targetUid.value};return l.disable===!0?u["aria-disabled"]="true":l.readonly===!0&&(u["aria-readonly"]="true"),u});E(()=>l.for,u=>{e.targetUid.value=Se(u)});function B(){const u=document.activeElement;let x=e.targetRef!==void 0&&e.targetRef.value;x&&(u===null||u.id!==e.targetUid.value)&&(x.hasAttribute("tabindex")===!0||(x=x.querySelector("[tabindex]")),x&&x!==u&&x.focus({preventScroll:!0}))}function C(){tt(B)}function T(){Et(B);const u=document.activeElement;u!==null&&e.rootRef.value.contains(u)&&u.blur()}function P(u){c!==null&&(clearTimeout(c),c=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,n("focus",u))}function H(u,x){c!==null&&clearTimeout(c),c=setTimeout(()=>{c=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,n("blur",u)),x!==void 0&&x())})}function z(u){$e(u),r.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),l.type==="file"&&(e.inputRef.value.value=null),n("update:modelValue",null),n("clear",l.modelValue),Ze(()=>{q(),r.platform.is.mobile!==!0&&(h.value=!1)})}function Z(){const u=[];return o.prepend!==void 0&&u.push(m("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:U},o.prepend())),u.push(m("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},D())),f.value===!0&&l.noErrorIcon===!1&&u.push(O("error",[m(Ee,{name:r.iconSet.field.error,color:"negative"})])),l.loading===!0||e.innerLoading.value===!0?u.push(O("inner-loading-append",o.loading!==void 0?o.loading():[m(St,{color:l.color})])):l.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&u.push(O("inner-clearable-append",[m(Ee,{class:"q-field__focusable-action",tag:"button",name:l.clearIcon||r.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:z})])),o.append!==void 0&&u.push(m("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:U},o.append())),e.getInnerAppend!==void 0&&u.push(O("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&u.push(e.getControlChild()),u}function D(){const u=[];return l.prefix!==void 0&&l.prefix!==null&&u.push(m("div",{class:"q-field__prefix no-pointer-events row items-center"},l.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&u.push(e.getShadowControl()),e.getControl!==void 0?u.push(e.getControl()):o.rawControl!==void 0?u.push(o.rawControl()):o.control!==void 0&&u.push(m("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":l.autofocus===!0||void 0},o.control(_.value))),A.value===!0&&u.push(m("div",{class:k.value},oe(o.label,l.label))),l.suffix!==void 0&&l.suffix!==null&&u.push(m("div",{class:"q-field__suffix no-pointer-events row items-center"},l.suffix)),u.concat(oe(o.default))}function j(){let u,x;f.value===!0?S.value!==null?(u=[m("div",{role:"alert"},S.value)],x=`q--slot-error-${S.value}`):(u=oe(o.error),x="q--slot-error"):(l.hideHint!==!0||e.focused.value===!0)&&(l.hint!==void 0?(u=[m("div",l.hint)],x=`q--slot-hint-${l.hint}`):(u=oe(o.hint),x="q--slot-hint"));const I=l.counter===!0||o.counter!==void 0;if(l.hideBottomSpace===!0&&I===!1&&u===void 0)return;const J=m("div",{key:x,class:"q-field__messages col"},u);return m("div",{class:"q-field__bottom row items-start q-field__bottom--"+(l.hideBottomSpace!==!0?"animated":"stale"),onClick:U},[l.hideBottomSpace===!0?J:m(Ye,{name:"q-transition--field-message"},()=>J),I===!0?m("div",{class:"q-field__counter"},o.counter!==void 0?o.counter():e.computedCounter.value):null])}function O(u,x){return x===null?null:m("div",{key:u,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},x)}let Y=!1;return Ct(()=>{Y=!0}),yt(()=>{Y===!0&&l.autofocus===!0&&d.focus()}),we(()=>{kt.value===!0&&l.for===void 0&&(e.targetUid.value=Se()),l.autofocus===!0&&d.focus()}),X(()=>{c!==null&&clearTimeout(c)}),Object.assign(d,{focus:C,blur:T}),function(){const x=e.getControl===void 0&&o.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":l.autofocus===!0||void 0,...F.value}:F.value;return m("label",{ref:e.rootRef,class:[R.value,t.class],style:t.style,...x},[o.before!==void 0?m("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:U},o.before()):null,m("div",{class:"q-field__inner relative-position col self-stretch"},[m("div",{ref:e.controlRef,class:$.value,tabindex:-1,...e.controlEvents},Z()),p.value===!0?j():null]),o.after!==void 0?m("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:U},o.after()):null])}}const Gt={name:String};function el(e){return i(()=>({type:"hidden",name:e.name,value:e.modelValue}))}function tl(e={}){return(l,n,o)=>{l[n](m("input",{class:"hidden"+(o||""),...e.value}))}}function Tl(e){return i(()=>e.name||e.for)}const ll=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,ol=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,nl=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,al=/[a-z0-9_ -]$/i;function Rl(e){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.qComposing!==!0)return;n.target.qComposing=!1,e(n)}else n.type==="compositionupdate"&&n.target.qComposing!==!0&&typeof n.data=="string"&&(Je.is.firefox===!0?al.test(n.data)===!1:ll.test(n.data)===!0||ol.test(n.data)===!0||nl.test(n.data)===!0)===!0&&(n.target.qComposing=!0)}}const We="q-slider__marker-labels",rl=e=>({value:e}),il=({marker:e})=>m("div",{key:e.value,style:e.style,class:e.classes},e.label),lt=[34,37,40,33,39,38],ul={...Me,...Gt,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},sl=["pan","update:modelValue","change"];function cl({updateValue:e,updatePosition:l,getDragging:n,formAttrs:o}){const{props:t,emit:d,slots:r,proxy:{$q:c}}=W(),h=_e(t,c),g=tl(o),f=M(!1),S=M(!1),q=M(!1),s=M(!1),p=i(()=>t.vertical===!0?"--v":"--h"),V=i(()=>"-"+(t.switchLabelSide===!0?"switched":"standard")),R=i(()=>t.vertical===!0?t.reverse===!0:t.reverse!==(c.lang.rtl===!0)),$=i(()=>isNaN(t.innerMin)===!0||t.innerMin<t.min?t.min:t.innerMin),A=i(()=>isNaN(t.innerMax)===!0||t.innerMax>t.max?t.max:t.innerMax),k=i(()=>t.disable!==!0&&t.readonly!==!0&&$.value<A.value),_=i(()=>(String(t.step).trim().split(".")[1]||"").length),F=i(()=>t.step===0?1:t.step),B=i(()=>k.value===!0?t.tabindex||0:-1),C=i(()=>t.max-t.min),T=i(()=>A.value-$.value),P=i(()=>le($.value)),H=i(()=>le(A.value)),z=i(()=>t.vertical===!0?R.value===!0?"bottom":"top":R.value===!0?"right":"left"),Z=i(()=>t.vertical===!0?"height":"width"),D=i(()=>t.vertical===!0?"width":"height"),j=i(()=>t.vertical===!0?"vertical":"horizontal"),O=i(()=>{const a={role:"slider","aria-valuemin":$.value,"aria-valuemax":A.value,"aria-orientation":j.value,"data-step":t.step};return t.disable===!0?a["aria-disabled"]="true":t.readonly===!0&&(a["aria-readonly"]="true"),a}),Y=i(()=>`q-slider q-slider${p.value} q-slider--${f.value===!0?"":"in"}active inline no-wrap `+(t.vertical===!0?"row":"column")+(t.disable===!0?" disabled":" q-slider--enabled"+(k.value===!0?" q-slider--editable":""))+(q.value==="both"?" q-slider--focus":"")+(t.label||t.labelAlways===!0?" q-slider--label":"")+(t.labelAlways===!0?" q-slider--label-always":"")+(h.value===!0?" q-slider--dark":"")+(t.dense===!0?" q-slider--dense q-slider--dense"+p.value:""));function u(a){const b="q-slider__"+a;return`${b} ${b}${p.value} ${b}${p.value}${V.value}`}function x(a){const b="q-slider__"+a;return`${b} ${b}${p.value}`}const I=i(()=>{const a=t.selectionColor||t.color;return"q-slider__selection absolute"+(a!==void 0?` text-${a}`:"")}),J=i(()=>x("markers")+" absolute overflow-hidden"),de=i(()=>x("track-container")),ne=i(()=>u("pin")),ae=i(()=>u("label")),fe=i(()=>u("text-container")),re=i(()=>u("marker-labels-container")+(t.markerLabelsClass!==void 0?` ${t.markerLabelsClass}`:"")),ee=i(()=>"q-slider__track relative-position no-outline"+(t.trackColor!==void 0?` bg-${t.trackColor}`:"")),K=i(()=>{const a={[D.value]:t.trackSize};return t.trackImg!==void 0&&(a.backgroundImage=`url(${t.trackImg}) !important`),a}),ve=i(()=>"q-slider__inner absolute"+(t.innerTrackColor!==void 0?` bg-${t.innerTrackColor}`:"")),v=i(()=>{const a={[z.value]:`${100*P.value}%`,[Z.value]:`${100*(H.value-P.value)}%`};return t.innerTrackImg!==void 0&&(a.backgroundImage=`url(${t.innerTrackImg}) !important`),a});function te(a){const{min:b,max:y,step:w}=t;let L=b+a*(y-b);if(w>0){const N=(L-b)%w;L+=(Math.abs(N)>=w/2?(N<0?-1:1)*w:0)-N}return _.value>0&&(L=parseFloat(L.toFixed(_.value))),G(L,$.value,A.value)}function le(a){return C.value===0?0:(a-t.min)/C.value}function me(a,b){const y=Ge(a),w=t.vertical===!0?G((y.top-b.top)/b.height,0,1):G((y.left-b.left)/b.width,0,1);return G(R.value===!0?1-w:w,P.value,H.value)}const Be=i(()=>qt(t.markers)===!0?t.markers:F.value),Te=i(()=>{const a=[],b=Be.value,y=t.max;let w=t.min;do a.push(w),w+=b;while(w<y);return a.push(y),a}),Re=i(()=>{const a=` ${We}${p.value}-`;return We+`${a}${t.switchMarkerLabelsSide===!0?"switched":"standard"}${a}${R.value===!0?"rtl":"ltr"}`}),he=i(()=>t.markerLabels===!1?null:nt(t.markerLabels).map((a,b)=>({index:b,value:a.value,label:a.label||a.value,classes:Re.value+(a.classes!==void 0?" "+a.classes:""),style:{...Fe(a.value),...a.style||{}}}))),Ae=i(()=>({markerList:he.value,markerMap:at.value,classes:Re.value,getStyle:Fe})),ot=i(()=>{if(T.value!==0){const a=100*Be.value/T.value;return{...v.value,backgroundSize:t.vertical===!0?`2px ${a}%`:`${a}% 2px`}}return null});function nt(a){if(a===!1)return null;if(a===!0)return Te.value.map(rl);if(typeof a=="function")return Te.value.map(y=>{const w=a(y);return xe(w)===!0?{...w,value:y}:{value:y,label:w}});const b=({value:y})=>y>=t.min&&y<=t.max;return Array.isArray(a)===!0?a.map(y=>xe(y)===!0?y:{value:y}).filter(b):Object.keys(a).map(y=>{const w=a[y],L=Number(y);return xe(w)===!0?{...w,value:L}:{value:L,label:w}}).filter(b)}function Fe(a){return{[z.value]:`${100*(a-t.min)/C.value}%`}}const at=i(()=>{if(t.markerLabels===!1)return null;const a={};return he.value.forEach(b=>{a[b.value]=b}),a});function rt(){if(r["marker-label-group"]!==void 0)return r["marker-label-group"](Ae.value);const a=r["marker-label"]||il;return he.value.map(b=>a({marker:b,...Ae.value}))}const it=i(()=>[[jt,ut,void 0,{[j.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function ut(a){a.isFinal===!0?(s.value!==void 0&&(l(a.evt),a.touch===!0&&e(!0),s.value=void 0,d("pan","end")),f.value=!1,q.value=!1):a.isFirst===!0?(s.value=n(a.evt),l(a.evt),e(),f.value=!0,d("pan","start")):(l(a.evt),e())}function Le(){q.value=!1}function st(a){l(a,n(a)),e(),S.value=!0,f.value=!0,document.addEventListener("mouseup",ge,!0)}function ge(){S.value=!1,f.value=!1,e(!0),Le(),document.removeEventListener("mouseup",ge,!0)}function ct(a){l(a,n(a)),e(!0)}function dt(a){lt.includes(a.keyCode)&&e(!0)}function ft(a){if(t.vertical===!0)return null;const b=c.lang.rtl!==t.reverse?1-a:a;return{transform:`translateX(calc(${2*b-1} * ${t.thumbSize} / 2 + ${50-100*b}%))`}}function vt(a){const b=i(()=>S.value===!1&&(q.value===a.focusValue||q.value==="both")?" q-slider--focus":""),y=i(()=>`q-slider__thumb q-slider__thumb${p.value} q-slider__thumb${p.value}-${R.value===!0?"rtl":"ltr"} absolute non-selectable`+b.value+(a.thumbColor.value!==void 0?` text-${a.thumbColor.value}`:"")),w=i(()=>({width:t.thumbSize,height:t.thumbSize,[z.value]:`${100*a.ratio.value}%`,zIndex:q.value===a.focusValue?2:void 0})),L=i(()=>a.labelColor.value!==void 0?` text-${a.labelColor.value}`:""),N=i(()=>ft(a.ratio.value)),be=i(()=>"q-slider__text"+(a.labelTextColor.value!==void 0?` text-${a.labelTextColor.value}`:""));return()=>{const pe=[m("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[m("path",{d:t.thumbPath})]),m("div",{class:"q-slider__focus-ring fit"})];return(t.label===!0||t.labelAlways===!0)&&(pe.push(m("div",{class:ne.value+" absolute fit no-pointer-events"+L.value},[m("div",{class:ae.value,style:{minWidth:t.thumbSize}},[m("div",{class:fe.value,style:N.value},[m("span",{class:be.value},a.label.value)])])])),t.name!==void 0&&t.disable!==!0&&g(pe,"push")),m("div",{class:y.value,style:w.value,...a.getNodeData()},pe)}}function mt(a,b,y,w){const L=[];t.innerTrackColor!=="transparent"&&L.push(m("div",{key:"inner",class:ve.value,style:v.value})),t.selectionColor!=="transparent"&&L.push(m("div",{key:"selection",class:I.value,style:a.value})),t.markers!==!1&&L.push(m("div",{key:"marker",class:J.value,style:ot.value})),w(L);const N=[wt("div",{key:"trackC",class:de.value,tabindex:b.value,...y.value},[m("div",{class:ee.value,style:K.value},L)],"slide",k.value,()=>it.value)];if(t.markerLabels!==!1){const be=t.switchMarkerLabelsSide===!0?"unshift":"push";N[be](m("div",{key:"markerL",class:re.value},rt()))}return N}return X(()=>{document.removeEventListener("mouseup",ge,!0)}),{state:{active:f,focus:q,preventFocus:S,dragging:s,editable:k,classes:Y,tabindex:B,attributes:O,step:F,decimals:_,trackLen:C,innerMin:$,innerMinRatio:P,innerMax:A,innerMaxRatio:H,positionProp:z,sizeProp:Z,isReversed:R},methods:{onActivate:st,onMobileClick:ct,onBlur:Le,onKeyup:dt,getContent:mt,getThumbRenderFn:vt,convertRatioToModel:te,convertModelToRatio:le,getDraggingRatio:me}}}const dl=()=>({});var Al=et({name:"QSlider",props:{...ul,modelValue:{required:!0,default:null,validator:e=>typeof e=="number"||e===null},labelValue:[String,Number]},emits:sl,setup(e,{emit:l}){const{proxy:{$q:n}}=W(),{state:o,methods:t}=cl({updateValue:p,updatePosition:R,getDragging:V,formAttrs:el(e)}),d=M(null),r=M(0),c=M(0);function h(){c.value=e.modelValue===null?o.innerMin.value:G(e.modelValue,o.innerMin.value,o.innerMax.value)}E(()=>`${e.modelValue}|${o.innerMin.value}|${o.innerMax.value}`,h),h();const g=i(()=>t.convertModelToRatio(c.value)),f=i(()=>o.active.value===!0?r.value:g.value),S=i(()=>{const k={[o.positionProp.value]:`${100*o.innerMinRatio.value}%`,[o.sizeProp.value]:`${100*(f.value-o.innerMinRatio.value)}%`};return e.selectionImg!==void 0&&(k.backgroundImage=`url(${e.selectionImg}) !important`),k}),q=t.getThumbRenderFn({focusValue:!0,getNodeData:dl,ratio:f,label:i(()=>e.labelValue!==void 0?e.labelValue:c.value),thumbColor:i(()=>e.thumbColor||e.color),labelColor:i(()=>e.labelColor),labelTextColor:i(()=>e.labelTextColor)}),s=i(()=>o.editable.value!==!0?{}:n.platform.is.mobile===!0?{onClick:t.onMobileClick}:{onMousedown:t.onActivate,onFocus:$,onBlur:t.onBlur,onKeydown:A,onKeyup:t.onKeyup});function p(k){c.value!==e.modelValue&&l("update:modelValue",c.value),k===!0&&l("change",c.value)}function V(){return d.value.getBoundingClientRect()}function R(k,_=o.dragging.value){const F=t.getDraggingRatio(k,_);c.value=t.convertRatioToModel(F),r.value=e.snap!==!0||e.step===0?F:t.convertModelToRatio(c.value)}function $(){o.focus.value=!0}function A(k){if(!lt.includes(k.keyCode))return;$e(k);const _=([34,33].includes(k.keyCode)?10:1)*o.step.value,F=([34,37,40].includes(k.keyCode)?-1:1)*(o.isReversed.value===!0?-1:1)*(e.vertical===!0?-1:1)*_;c.value=G(parseFloat((c.value+F).toFixed(o.decimals.value)),o.innerMin.value,o.innerMax.value),p()}return()=>{const k=t.getContent(S,o.tabindex,s,_=>{_.push(q())});return m("div",{ref:d,class:o.classes.value+(e.modelValue===null?" q-slider--no-value":""),...o.attributes.value,"aria-valuenow":e.modelValue},k)}}});const fl={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function vl({showing:e,avoidEmit:l,configureAnchorEl:n}){const{props:o,proxy:t,emit:d}=W(),r=M(null);let c=null;function h(s){return r.value===null?!1:s===void 0||s.touches===void 0||s.touches.length<=1}const g={};n===void 0&&(Object.assign(g,{hide(s){t.hide(s)},toggle(s){t.toggle(s),s.qAnchorHandled=!0},toggleKey(s){$t(s,13)===!0&&g.toggle(s)},contextClick(s){t.hide(s),U(s),Ze(()=>{t.show(s),s.qAnchorHandled=!0})},prevent:U,mobileTouch(s){if(g.mobileCleanup(s),h(s)!==!0)return;t.hide(s),r.value.classList.add("non-selectable");const p=s.target;Ve(g,"anchor",[[p,"touchmove","mobileCleanup","passive"],[p,"touchend","mobileCleanup","passive"],[p,"touchcancel","mobileCleanup","passive"],[r.value,"contextmenu","prevent","notPassive"]]),c=setTimeout(()=>{c=null,t.show(s),s.qAnchorHandled=!0},300)},mobileCleanup(s){r.value.classList.remove("non-selectable"),c!==null&&(clearTimeout(c),c=null),e.value===!0&&s!==void 0&&Kt()}}),n=function(s=o.contextMenu){if(o.noParentEvent===!0||r.value===null)return;let p;s===!0?t.$q.platform.is.mobile===!0?p=[[r.value,"touchstart","mobileTouch","passive"]]:p=[[r.value,"mousedown","hide","passive"],[r.value,"contextmenu","contextClick","notPassive"]]:p=[[r.value,"click","toggle","passive"],[r.value,"keyup","toggleKey","passive"]],Ve(g,"anchor",p)});function f(){Mt(g,"anchor")}function S(s){for(r.value=s;r.value.classList.contains("q-anchor--skip");)r.value=r.value.parentNode;n()}function q(){if(o.target===!1||o.target===""||t.$el.parentNode===null)r.value=null;else if(o.target===!0)S(t.$el.parentNode);else{let s=o.target;if(typeof o.target=="string")try{s=document.querySelector(o.target)}catch{s=void 0}s!=null?(r.value=s.$el||s,n()):(r.value=null,console.error(`Anchor: target "${o.target}" not found`))}}return E(()=>o.contextMenu,s=>{r.value!==null&&(f(),n(s))}),E(()=>o.target,()=>{r.value!==null&&f(),q()}),E(()=>o.noParentEvent,s=>{r.value!==null&&(s===!0?f():n())}),we(()=>{q(),l!==!0&&o.modelValue===!0&&r.value===null&&d("update:modelValue",!1)}),X(()=>{c!==null&&clearTimeout(c),f()}),{anchorEl:r,canShow:h,anchorEvents:g}}function ml(e,l){const n=M(null);let o;function t(c,h){const g=`${h!==void 0?"add":"remove"}EventListener`,f=h!==void 0?h:o;c!==window&&c[g]("scroll",f,ke.passive),window[g]("scroll",f,ke.passive),o=h}function d(){n.value!==null&&(t(n.value),n.value=null)}const r=E(()=>e.noParentEvent,()=>{n.value!==null&&(d(),l())});return X(r),{localScrollTarget:n,unconfigureScrollTarget:d,changeScrollEvent:t}}const{notPassiveCapture:se}=ke,Q=[];function ce(e){const l=e.target;if(l===void 0||l.nodeType===8||l.classList.contains("no-pointer-events")===!0)return;let n=Pe.length-1;for(;n>=0;){const o=Pe[n].$;if(o.type.name!=="QDialog")break;if(o.props.seamless!==!0)return;n--}for(let o=Q.length-1;o>=0;o--){const t=Q[o];if((t.anchorEl.value===null||t.anchorEl.value.contains(l)===!1)&&(l===document.body||t.innerRef.value!==null&&t.innerRef.value.contains(l)===!1))e.qClickOutside=!0,t.onClickOutside(e);else return}}function hl(e){Q.push(e),Q.length===1&&(document.addEventListener("mousedown",ce,se),document.addEventListener("touchstart",ce,se))}function De(e){const l=Q.findIndex(n=>n===e);l>-1&&(Q.splice(l,1),Q.length===0&&(document.removeEventListener("mousedown",ce,se),document.removeEventListener("touchstart",ce,se)))}let je,Ke;function Ue(e){const l=e.split(" ");return l.length!==2?!1:["top","center","bottom"].includes(l[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(l[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function gl(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const qe={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{qe[`${e}#ltr`]=e,qe[`${e}#rtl`]=e});function Qe(e,l){const n=e.split(" ");return{vertical:n[0],horizontal:qe[`${n[1]}#${l===!0?"rtl":"ltr"}`]}}function bl(e,l){let{top:n,left:o,right:t,bottom:d,width:r,height:c}=e.getBoundingClientRect();return l!==void 0&&(n-=l[1],o-=l[0],d+=l[1],t+=l[0],r+=l[0],c+=l[1]),{top:n,bottom:d,height:c,left:o,right:t,width:r,middle:o+(t-o)/2,center:n+(d-n)/2}}function pl(e,l,n){let{top:o,left:t}=e.getBoundingClientRect();return o+=l.top,t+=l.left,n!==void 0&&(o+=n[1],t+=n[0]),{top:o,bottom:o+1,height:1,left:t,right:t+1,width:1,middle:t,center:o}}function xl(e){return{top:0,center:e.offsetHeight/2,bottom:e.offsetHeight,left:0,middle:e.offsetWidth/2,right:e.offsetWidth}}function Xe(e,l,n){return{top:e[n.anchorOrigin.vertical]-l[n.selfOrigin.vertical],left:e[n.anchorOrigin.horizontal]-l[n.selfOrigin.horizontal]}}function Cl(e){if(Je.is.ios===!0&&window.visualViewport!==void 0){const c=document.body.style,{offsetLeft:h,offsetTop:g}=window.visualViewport;h!==je&&(c.setProperty("--q-pe-left",h+"px"),je=h),g!==Ke&&(c.setProperty("--q-pe-top",g+"px"),Ke=g)}const{scrollLeft:l,scrollTop:n}=e.el,o=e.absoluteOffset===void 0?bl(e.anchorEl,e.cover===!0?[0,0]:e.offset):pl(e.anchorEl,e.absoluteOffset,e.offset);let t={maxHeight:e.maxHeight,maxWidth:e.maxWidth,visibility:"visible"};(e.fit===!0||e.cover===!0)&&(t.minWidth=o.width+"px",e.cover===!0&&(t.minHeight=o.height+"px")),Object.assign(e.el.style,t);const d=xl(e.el);let r=Xe(o,d,e);if(e.absoluteOffset===void 0||e.offset===void 0)ye(r,o,d,e.anchorOrigin,e.selfOrigin);else{const{top:c,left:h}=r;ye(r,o,d,e.anchorOrigin,e.selfOrigin);let g=!1;if(r.top!==c){g=!0;const f=2*e.offset[1];o.center=o.top-=f,o.bottom-=f+2}if(r.left!==h){g=!0;const f=2*e.offset[0];o.middle=o.left-=f,o.right-=f+2}g===!0&&(r=Xe(o,d,e),ye(r,o,d,e.anchorOrigin,e.selfOrigin))}t={top:r.top+"px",left:r.left+"px"},r.maxHeight!==void 0&&(t.maxHeight=r.maxHeight+"px",o.height>r.maxHeight&&(t.minHeight=t.maxHeight)),r.maxWidth!==void 0&&(t.maxWidth=r.maxWidth+"px",o.width>r.maxWidth&&(t.minWidth=t.maxWidth)),Object.assign(e.el.style,t),e.el.scrollTop!==n&&(e.el.scrollTop=n),e.el.scrollLeft!==l&&(e.el.scrollLeft=l)}function ye(e,l,n,o,t){const d=n.bottom,r=n.right,c=Bt(),h=window.innerHeight-c,g=document.body.clientWidth;if(e.top<0||e.top+d>h)if(t.vertical==="center")e.top=l[o.vertical]>h/2?Math.max(0,h-d):0,e.maxHeight=Math.min(d,h);else if(l[o.vertical]>h/2){const f=Math.min(h,o.vertical==="center"?l.center:o.vertical===t.vertical?l.bottom:l.top);e.maxHeight=Math.min(d,f),e.top=Math.max(0,f-d)}else e.top=Math.max(0,o.vertical==="center"?l.center:o.vertical===t.vertical?l.top:l.bottom),e.maxHeight=Math.min(d,h-e.top);if(e.left<0||e.left+r>g)if(e.maxWidth=Math.min(r,g),t.horizontal==="middle")e.left=l[o.horizontal]>g/2?Math.max(0,g-r):0;else if(l[o.horizontal]>g/2){const f=Math.min(g,o.horizontal==="middle"?l.middle:o.horizontal===t.horizontal?l.right:l.left);e.maxWidth=Math.min(r,f),e.left=Math.max(0,f-e.maxWidth)}else e.left=Math.max(0,o.horizontal==="middle"?l.middle:o.horizontal===t.horizontal?l.left:l.right),e.maxWidth=Math.min(r,g-e.left)}var Fl=et({name:"QMenu",inheritAttrs:!1,props:{...fl,...At,...Me,...Vt,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Ue},self:{type:String,validator:Ue},offset:{type:Array,validator:gl},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Ft,"click","escapeKey"],setup(e,{slots:l,emit:n,attrs:o}){let t=null,d,r,c;const h=W(),{proxy:g}=h,{$q:f}=g,S=M(null),q=M(!1),s=i(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),p=_e(e,f),{registerTick:V,removeTick:R}=Pt(),{registerTimeout:$}=zt(),{transitionProps:A,transitionStyle:k}=Ht(e),{localScrollTarget:_,changeScrollEvent:F,unconfigureScrollTarget:B}=ml(e,ae),{anchorEl:C,canShow:T}=vl({showing:q}),{hide:P}=Lt({showing:q,canShow:T,handleShow:J,handleHide:de,hideOnRouteChange:s,processOnMount:!0}),{showPortal:H,hidePortal:z,renderPortal:Z}=Ot(h,S,ve,"menu"),D={anchorEl:C,innerRef:S,onClickOutside(v){if(e.persistent!==!0&&q.value===!0)return P(v),(v.type==="touchstart"||v.target.classList.contains("q-dialog__backdrop"))&&$e(v),!0}},j=i(()=>Qe(e.anchor||(e.cover===!0?"center middle":"bottom start"),f.lang.rtl)),O=i(()=>e.cover===!0?j.value:Qe(e.self||"top start",f.lang.rtl)),Y=i(()=>(e.square===!0?" q-menu--square":"")+(p.value===!0?" q-menu--dark q-dark":"")),u=i(()=>e.autoClose===!0?{onClick:fe}:{}),x=i(()=>q.value===!0&&e.persistent!==!0);E(x,v=>{v===!0?(Dt(ee),hl(D)):(ze(ee),De(D))});function I(){tt(()=>{let v=S.value;v&&v.contains(document.activeElement)!==!0&&(v=v.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||v.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||v.querySelector("[autofocus], [data-autofocus]")||v,v.focus({preventScroll:!0}))})}function J(v){if(t=e.noRefocus===!1?document.activeElement:null,It(re),H(),ae(),d=void 0,v!==void 0&&(e.touchPosition||e.contextMenu)){const te=Ge(v);if(te.left!==void 0){const{top:le,left:me}=C.value.getBoundingClientRect();d={left:te.left-me,top:te.top-le}}}r===void 0&&(r=E(()=>f.screen.width+"|"+f.screen.height+"|"+e.self+"|"+e.anchor+"|"+f.lang.rtl,K)),e.noFocus!==!0&&document.activeElement.blur(),V(()=>{K(),e.noFocus!==!0&&I()}),$(()=>{f.platform.is.ios===!0&&(c=e.autoClose,S.value.click()),K(),H(!0),n("show",v)},e.transitionDuration)}function de(v){R(),z(),ne(!0),t!==null&&(v===void 0||v.qClickOutside!==!0)&&(((v&&v.type.indexOf("key")===0?t.closest('[tabindex]:not([tabindex^="-"])'):void 0)||t).focus(),t=null),$(()=>{z(!0),n("hide",v)},e.transitionDuration)}function ne(v){d=void 0,r!==void 0&&(r(),r=void 0),(v===!0||q.value===!0)&&(Nt(re),B(),De(D),ze(ee)),v!==!0&&(t=null)}function ae(){(C.value!==null||e.scrollTarget!==void 0)&&(_.value=Tt(C.value,e.scrollTarget),F(_.value,K))}function fe(v){c!==!0?(Wt(g,v),n("click",v)):c=!1}function re(v){x.value===!0&&e.noFocus!==!0&&_t(S.value,v.target)!==!0&&I()}function ee(v){n("escapeKey"),P(v)}function K(){const v=S.value;v===null||C.value===null||Cl({el:v,offset:e.offset,anchorEl:C.value,anchorOrigin:j.value,selfOrigin:O.value,absoluteOffset:d,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function ve(){return m(Ye,A.value,()=>q.value===!0?m("div",{role:"menu",...o,ref:S,tabindex:-1,class:["q-menu q-position-engine scroll"+Y.value,o.class],style:[o.style,k.value],...u.value},oe(l.default)):null)}return X(ne),Object.assign(g,{focus:I,updatePosition:K}),Z}});export{Fl as Q,Gt as a,Ml as b,Tl as c,_l as d,Bl as e,Jt as f,Rl as g,ul as h,sl as i,cl as j,lt as k,Al as l,tl as m,fl as n,vl as o,Ce as t,$l as u};

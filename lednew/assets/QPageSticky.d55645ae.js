import{Q as w}from"./QScrollObserver.3af06963.js";import{c as S,i as k,e as p,r as Q,b as l,w as m,o as P,ac as B,h as y,l as z,j as O,d as H}from"./index.37872d6e.js";var R=S({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(t,{slots:h,emit:u}){const{proxy:{$q:g}}=O(),a=k(z,p);if(a===p)return console.error("QHeader needs to be child of QLayout"),p;const s=Q(parseInt(t.heightHint,10)),n=Q(!0),i=l(()=>t.reveal===!0||a.view.value.indexOf("H")>-1||g.platform.is.ios&&a.isContainer.value===!0),x=l(()=>{if(t.modelValue!==!0)return 0;if(i.value===!0)return n.value===!0?s.value:0;const e=s.value-a.scroll.value.position;return e>0?e:0}),b=l(()=>t.modelValue!==!0||i.value===!0&&n.value!==!0),$=l(()=>t.modelValue===!0&&b.value===!0&&t.reveal===!0),o=l(()=>"q-header q-layout__section--marginal "+(i.value===!0?"fixed":"absolute")+"-top"+(t.bordered===!0?" q-header--bordered":"")+(b.value===!0?" q-header--hidden":"")+(t.modelValue!==!0?" q-layout--prevent-focus":"")),f=l(()=>{const e=a.rows.value.top,v={};return e[0]==="l"&&a.left.space===!0&&(v[g.lang.rtl===!0?"right":"left"]=`${a.left.size}px`),e[2]==="r"&&a.right.space===!0&&(v[g.lang.rtl===!0?"left":"right"]=`${a.right.size}px`),v});function r(e,v){a.update("header",e,v)}function c(e,v){e.value!==v&&(e.value=v)}function d({height:e}){c(s,e),r("size",e)}function V(e){$.value===!0&&c(n,!0),u("focusin",e)}m(()=>t.modelValue,e=>{r("space",e),c(n,!0),a.animate()}),m(x,e=>{r("offset",e)}),m(()=>t.reveal,e=>{e===!1&&c(n,t.modelValue)}),m(n,e=>{a.animate(),u("reveal",e)}),m(a.scroll,e=>{t.reveal===!0&&c(n,e.direction==="up"||e.position<=t.revealOffset||e.position-e.inflectionPoint<100)});const q={};return a.instances.header=q,t.modelValue===!0&&r("size",s.value),r("space",t.modelValue),r("offset",x.value),P(()=>{a.instances.header===q&&(a.instances.header=void 0,r("size",0),r("offset",0),r("space",!1))}),()=>{const e=B(h.default,[]);return t.elevated===!0&&e.push(y("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),e.push(y(w,{debounce:0,onResize:d})),y("header",{class:o.value,style:f.value,onFocusin:V},e)}}});const C={position:{type:String,default:"bottom-right",validator:t=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(t)},offset:{type:Array,validator:t=>t.length===2},expand:Boolean};function _(){const{props:t,proxy:{$q:h}}=O(),u=k(z,p);if(u===p)return console.error("QPageSticky needs to be child of QLayout"),p;const g=l(()=>{const o=t.position;return{top:o.indexOf("top")>-1,right:o.indexOf("right")>-1,bottom:o.indexOf("bottom")>-1,left:o.indexOf("left")>-1,vertical:o==="top"||o==="bottom",horizontal:o==="left"||o==="right"}}),a=l(()=>u.header.offset),s=l(()=>u.right.offset),n=l(()=>u.footer.offset),i=l(()=>u.left.offset),x=l(()=>{let o=0,f=0;const r=g.value,c=h.lang.rtl===!0?-1:1;r.top===!0&&a.value!==0?f=`${a.value}px`:r.bottom===!0&&n.value!==0&&(f=`${-n.value}px`),r.left===!0&&i.value!==0?o=`${c*i.value}px`:r.right===!0&&s.value!==0&&(o=`${-c*s.value}px`);const d={transform:`translate(${o}, ${f})`};return t.offset&&(d.margin=`${t.offset[1]}px ${t.offset[0]}px`),r.vertical===!0?(i.value!==0&&(d[h.lang.rtl===!0?"right":"left"]=`${i.value}px`),s.value!==0&&(d[h.lang.rtl===!0?"left":"right"]=`${s.value}px`)):r.horizontal===!0&&(a.value!==0&&(d.top=`${a.value}px`),n.value!==0&&(d.bottom=`${n.value}px`)),d}),b=l(()=>`q-page-sticky row flex-center fixed-${t.position} q-page-sticky--${t.expand===!0?"expand":"shrink"}`);function $(o){const f=H(o.default);return y("div",{class:b.value,style:x.value},t.expand===!0?f:[y("div",f)])}return{$layout:u,getStickyContent:$}}var j=S({name:"QPageSticky",props:C,setup(t,{slots:h}){const{getStickyContent:u}=_();return()=>u(h)}});export{R as Q,j as a};
